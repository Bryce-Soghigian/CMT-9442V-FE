{"ast":null,"code":"var _jsxFileName = \"/Users/lambda_school_loaner_126/Desktop/CMT-FE/src/Components/ThreeEffects/DefaultGlitch/DefaultTextGlitch.js\";\nimport React, { useEffect, useRef } from 'react';\nimport * as THREE from 'three';\nimport { EffectComposer } from 'three/examples/jsm/postprocessing/EffectComposer.js';\nimport { RenderPass } from 'three/examples/jsm/postprocessing/RenderPass.js';\nimport { GlitchPass } from 'three/examples/jsm/postprocessing/GlitchPass.js';\nimport fontJSON from '../fonts/fontJSON.json';\nimport \"./Glitch.css\";\nexport default function DefaultTextGlitch(props) {\n  const GlitchRef = useRef();\n  useEffect(() => {\n    //==================THREEJS Stuff===================//\n    var camera, scene, renderer, composer;\n    var object, light;\n    var glitchPass;\n    let textvar = props.text;\n    init();\n    animate();\n    var wildGlitch = document.getElementById('wildGlitch');\n    glitchPass.goWild = wildGlitch.checked;\n\n    function updateOptions() {\n      var wildGlitch = document.getElementById('wildGlitch');\n      glitchPass.goWild = wildGlitch.checked;\n    }\n\n    function init() {\n      renderer = new THREE.WebGLRenderer({\n        wildGlitch,\n        alpha: true\n      });\n      renderer.setPixelRatio(window.devicePixelRatio);\n      renderer.setSize(window.innerWidth, window.innerHeight);\n      document.body.appendChild(renderer.domElement); //\n\n      camera = new THREE.PerspectiveCamera(150, window.innerWidth / window.innerHeight, 1, 1000);\n      camera.position.z = 400;\n      scene = new THREE.Scene();\n      scene.fog = new THREE.Fog(0x000000, 1, 1000);\n      object = new THREE.Object3D();\n      scene.add(object); //===============Background Loader=======================//\n\n      const bgloader = new THREE.TextureLoader(); // const bgTexture = bgloader.load(props.background_url);\n      // scene.background = bgTexture;\n      //   const canvasAspect = canvas.clientWidth / canvas.clientHeight;\n      //   const imageAspect = bgTexture.image ? bgTexture.image.width / bgTexture.image.height : 1;\n      //   const aspect = imageAspect / canvasAspect;\n      //   bgTexture.offset.x = aspect > 1 ? (1 - 1 / aspect) / 2 : 0;\n      //   bgTexture.repeat.x = aspect > 1 ? 1 / aspect : 1;\n      //   bgTexture.offset.y = aspect > 1 ? 0 : (1 - aspect) / 2;\n      //   bgTexture.repeat.y = aspect > 1 ? 1 : aspect;\n\n      bgloader.load(props.backgound_url, function (texture) {\n        backgroundMesh = new THREE.Mesh(new THREE.PlaneGeometry(2, 2, 0), new THREE.MeshBasicMaterial({\n          map: texture\n        }));\n        backgroundMesh.material.depthTest = false;\n        backgroundMesh.material.depthWrite = false;\n        backgroundScene = new THREE.Scene();\n        backgroundCamera = new THREE.Camera();\n        backgroundScene.add(backgroundCamera);\n        backgroundScene.add(backgroundMesh);\n      }); //============Font Geometry=================//\n\n      var loader = new THREE.FontLoader();\n      var font = loader.parse(fontJSON);\n      var geometry = new THREE.TextGeometry(textvar, {\n        font: font,\n        size: 160,\n        height: 10,\n        material: 0,\n        bevelThickness: 1,\n        extrudeMaterial: 10\n      });\n      var material = new THREE.MeshPhongMaterial({\n        color: 0xffffff,\n        flatShading: true\n      });\n      var mesh = new THREE.Mesh(geometry, material);\n      object.add(mesh);\n      scene.add(new THREE.AmbientLight(0x222222));\n      light = new THREE.DirectionalLight(0xffffff);\n      light.position.set(1, 1, 1);\n      scene.add(light); // postprocessing\n\n      composer = new EffectComposer(renderer);\n      composer.addPass(new RenderPass(scene, camera));\n      glitchPass = new GlitchPass();\n      composer.addPass(glitchPass); //\n\n      window.addEventListener('resize', onWindowResize, false);\n      var wildGlitchOption = document.getElementById('wildGlitch');\n      wildGlitchOption.addEventListener('change', updateOptions);\n      updateOptions();\n    }\n\n    function onWindowResize() {\n      camera.aspect = window.innerWidth / window.innerHeight;\n      camera.updateProjectionMatrix();\n      renderer.setSize(window.innerWidth, window.innerHeight);\n      composer.setSize(window.innerWidth, window.innerHeight);\n    }\n\n    renderer.render(backgroundScene, backgroundCamera);\n\n    function animate() {\n      requestAnimationFrame(animate);\n      composer.render();\n    }\n  }, [props]);\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    id: \"Channel-Div\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, props.channel), React.createElement(\"div\", {\n    ref: GlitchRef,\n    id: \"wildGlitch\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }));\n}","map":{"version":3,"sources":["/Users/lambda_school_loaner_126/Desktop/CMT-FE/src/Components/ThreeEffects/DefaultGlitch/DefaultTextGlitch.js"],"names":["React","useEffect","useRef","THREE","EffectComposer","RenderPass","GlitchPass","fontJSON","DefaultTextGlitch","props","GlitchRef","camera","scene","renderer","composer","object","light","glitchPass","textvar","text","init","animate","wildGlitch","document","getElementById","goWild","checked","updateOptions","WebGLRenderer","alpha","setPixelRatio","window","devicePixelRatio","setSize","innerWidth","innerHeight","body","appendChild","domElement","PerspectiveCamera","position","z","Scene","fog","Fog","Object3D","add","bgloader","TextureLoader","load","backgound_url","texture","backgroundMesh","Mesh","PlaneGeometry","MeshBasicMaterial","map","material","depthTest","depthWrite","backgroundScene","backgroundCamera","Camera","loader","FontLoader","font","parse","geometry","TextGeometry","size","height","bevelThickness","extrudeMaterial","MeshPhongMaterial","color","flatShading","mesh","AmbientLight","DirectionalLight","set","addPass","addEventListener","onWindowResize","wildGlitchOption","aspect","updateProjectionMatrix","render","requestAnimationFrame","channel"],"mappings":"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","sourcesContent":["import React,{useEffect,useRef} from 'react'\nimport * as THREE from 'three'\nimport { EffectComposer } from 'three/examples/jsm/postprocessing/EffectComposer.js'\nimport {RenderPass} from 'three/examples/jsm/postprocessing/RenderPass.js'\nimport {GlitchPass} from 'three/examples/jsm/postprocessing/GlitchPass.js'\nimport fontJSON from '../fonts/fontJSON.json'\nimport \"./Glitch.css\"\nexport default function DefaultTextGlitch(props) {\n    const GlitchRef = useRef()\n    useEffect(() => {\n//==================THREEJS Stuff===================//\nvar camera, scene, renderer, composer;\nvar object, light;\nvar glitchPass;\nlet textvar = props.text\ninit();\nanimate();\nvar wildGlitch = document.getElementById( 'wildGlitch' );\n    glitchPass.goWild = wildGlitch.checked;\nfunction updateOptions() {\n    var wildGlitch = document.getElementById( 'wildGlitch' );\n    glitchPass.goWild = wildGlitch.checked;\n}\nfunction init() {\n  renderer = new THREE.WebGLRenderer({\n        wildGlitch,\n        alpha: true,\n      });\n    \n    renderer.setPixelRatio( window.devicePixelRatio );\n    renderer.setSize( window.innerWidth, window.innerHeight );\n    document.body.appendChild( renderer.domElement );\n    //\n    camera = new THREE.PerspectiveCamera( 150, window.innerWidth / window.innerHeight, 1, 1000 );\n    camera.position.z = 400;\n    scene = new THREE.Scene();\n    scene.fog = new THREE.Fog( 0x000000, 1, 1000 );\n    object = new THREE.Object3D();\n    scene.add( object );\n    //===============Background Loader=======================//\nconst bgloader = new THREE.TextureLoader();\n// const bgTexture = bgloader.load(props.background_url);\n// scene.background = bgTexture;\n//   const canvasAspect = canvas.clientWidth / canvas.clientHeight;\n//   const imageAspect = bgTexture.image ? bgTexture.image.width / bgTexture.image.height : 1;\n//   const aspect = imageAspect / canvasAspect;\n \n//   bgTexture.offset.x = aspect > 1 ? (1 - 1 / aspect) / 2 : 0;\n//   bgTexture.repeat.x = aspect > 1 ? 1 / aspect : 1;\n \n//   bgTexture.offset.y = aspect > 1 ? 0 : (1 - aspect) / 2;\n//   bgTexture.repeat.y = aspect > 1 ? 1 : aspect;\n\nbgloader.load(props.backgound_url, function( texture ) {\n\tbackgroundMesh = new THREE.Mesh(\n\t\tnew THREE.PlaneGeometry(2, 2, 0),\n\t\t\tnew THREE.MeshBasicMaterial({\n\t\t\tmap: texture\n\t\t})\n\t);\n \n\tbackgroundMesh.material.depthTest = false;\n\tbackgroundMesh.material.depthWrite = false;\n \n\tbackgroundScene = new THREE.Scene();\n\tbackgroundCamera = new THREE.Camera();\n\tbackgroundScene.add( backgroundCamera );\n\tbackgroundScene.add( backgroundMesh );\n});\n    //============Font Geometry=================//\n\n    var loader = new THREE.FontLoader();\n    var font =loader.parse(fontJSON)\n    var geometry = new THREE.TextGeometry(textvar,{font:font, size: 160, height: 10, material: 0, bevelThickness: 1, extrudeMaterial:10})\n    var material = new THREE.MeshPhongMaterial( { color: 0xffffff, flatShading: true } );\n    var mesh = new THREE.Mesh(geometry,material)\n    object.add(mesh)\n    scene.add( new THREE.AmbientLight( 0x222222 ) );\n    light = new THREE.DirectionalLight( 0xffffff );\n    light.position.set( 1, 1, 1 );\n    scene.add( light );\n    // postprocessing\n    composer = new EffectComposer( renderer );\n    composer.addPass( new RenderPass( scene, camera ) );\n    glitchPass = new GlitchPass();\n    composer.addPass( glitchPass );\n    //\n    window.addEventListener( 'resize', onWindowResize, false );\n    var wildGlitchOption = document.getElementById( 'wildGlitch' );\n    wildGlitchOption.addEventListener( 'change', updateOptions );\n    updateOptions();\n}\nfunction onWindowResize() {\n    camera.aspect = window.innerWidth / window.innerHeight;\n    camera.updateProjectionMatrix();\n    renderer.setSize( window.innerWidth, window.innerHeight );\n    composer.setSize( window.innerWidth, window.innerHeight );\n}\nrenderer.render( backgroundScene, backgroundCamera );\nfunction animate() {\n    requestAnimationFrame( animate );\n    composer.render();\n    \n}\n    }, [props])\n    return (\n        <div>\n            <div id = \"Channel-Div\">\n                {props.channel}\n            </div>\n            <div ref={GlitchRef} id =\"wildGlitch\"></div>\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}